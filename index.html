<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë“±í•™ìƒì„ ìœ„í•œ ê³ í•´ì„±ì‚¬ ê¸¸ì¡ì´</title>
    <!-- Tailwind CSS (ìŠ¤íƒ€ì¼ë§) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Marked.js (ë§ˆí¬ë‹¤ìš´ ë³€í™˜) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        /* 1. í°íŠ¸ ì„¤ì •: ê·€ì—¬ìš´ ì†ê¸€ì”¨(ê°œêµ¬) & ì œëª©ìš©(ì£¼ì•„) */
        @import url('https://fonts.googleapis.com/css2?family=Gaegu:wght@300;400;700&family=Jua&display=swap');

        body {
            font-family: 'Gaegu', cursive;
            background-color: #f0f9ff;
            color: #4b5563;
            overflow-x: hidden;
            font-size: 1.4rem; /* ê°€ë…ì„±ì„ ìœ„í•´ ê¸€ì í¬ê¸° í™•ëŒ€ */
            line-height: 1.6;
        }

        h1, h2, h3, .title-font {
            font-family: 'Jua', sans-serif;
        }

        /* 2. ìˆ˜ì±„í™” ë°°ê²½ íš¨ê³¼ (CSSë¡œ êµ¬í˜„) */
        .watercolor-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 15% 25%, rgba(255, 182, 193, 0.4) 0%, transparent 45%),
                radial-gradient(circle at 85% 75%, rgba(173, 216, 230, 0.4) 0%, transparent 45%),
                radial-gradient(circle at 50% 50%, rgba(255, 253, 208, 0.4) 0%, transparent 55%);
            filter: blur(40px);
        }

        /* 3. íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤íƒ€ì¼ */
        .nav-btn {
            transition: all 0.3s ease;
            font-size: 1.3rem;
            border-radius: 20px;
            white-space: nowrap;
        }
        .tab-active {
            background-color: #fff;
            color: #3b82f6;
            box-shadow: 0 4px 10px rgba(59, 130, 246, 0.2);
            font-weight: bold;
            transform: scale(1.05);
        }
        .tab-inactive {
            color: #9ca3af;
        }
        .tab-inactive:hover {
            color: #6b7280;
            background-color: rgba(255,255,255,0.5);
        }

        /* 4. ê°ì¢… ì• ë‹ˆë©”ì´ì…˜ */
        .fade-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bubble { animation: float 3s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ì²´í¬ë°•ìŠ¤ ë””ìì¸ ì»¤ìŠ¤í…€ */
        .custom-checkbox:checked + div {
            background-color: #eff6ff; /* blue-50 */
            border-color: #60a5fa; /* blue-400 */
            color: #1d4ed8; /* blue-700 */
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transform: scale(1.01);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- ë°°ê²½ -->
    <div class="watercolor-bg"></div>

    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md shadow-sm border-b border-blue-100">
        <div class="max-w-3xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <span class="text-4xl">ğŸ›</span>
                <div>
                    <div class="text-base text-blue-400 font-bold title-font">ì„œì°½2ë™ ì„±ë‹¹ ì£¼ì¼í•™êµ</div>
                    <h1 class="text-2xl md:text-3xl text-blue-600 title-font tracking-wide">ë§ˆìŒ ì„¸íƒì†Œ</h1>
                </div>
            </div>
        </div>
        
        <!-- íƒ­ ë©”ë‰´ -->
        <nav class="max-w-3xl mx-auto px-2 py-3 flex justify-around overflow-x-auto gap-2">
            <button onclick="switchTab('home')" class="nav-btn tab-active px-4 py-2" data-target="home">ğŸ  í™ˆ</button>
            <button onclick="switchTab('check')" class="nav-btn tab-inactive px-4 py-2" data-target="check">ğŸ” ê±°ìš¸</button>
            <button onclick="switchTab('wash')" class="nav-btn tab-inactive px-4 py-2" data-target="wash">ğŸ§¼ ì„¸íƒ</button>
            <button onclick="switchTab('guide')" class="nav-btn tab-inactive px-4 py-2" data-target="guide">ğŸ“– ê³ ë°±</button>
        </nav>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
    <main class="flex-grow max-w-3xl mx-auto w-full p-6 pb-20 space-y-8">

        <!-- [ì„¹ì…˜ 1] í™ˆ: í™˜ì˜ ì¸ì‚¬ -->
        <section id="home" class="fade-in text-center space-y-8 py-8">
            <div class="bubble inline-block text-8xl mb-4">ğŸ«§</div>
            <h2 class="text-4xl title-font text-blue-600 mb-4">"ì–´ì„œ ì™€, ì—¬ê¸°ëŠ” ë§ˆìŒ ì„¸íƒì†Œì•¼!"</h2>
            
            <div class="bg-white/70 p-8 rounded-[2rem] shadow-xl border-4 border-white backdrop-blur-sm">
                <p class="text-2xl leading-relaxed mb-6 text-gray-600">
                    ì˜·ì— í™ì´ ë¬»ìœ¼ë©´ ë¹¨ë˜ë¥¼ í•˜ì–ì•„?<br>
                    ìš°ë¦¬ ë§ˆìŒì—ë„ <strong>'ì£„'</strong>ê³¼ <strong>'ì˜ëª»'</strong>ì´ë¼ëŠ”<br>
                    ì–¼ë£©ì´ ë¬»ìœ¼ë©´ ê¹¨ë—í•˜ê²Œ ì”»ì–´ë‚´ì•¼í•´~
                </p>
                <p class="text-2xl leading-relaxed text-blue-600 font-bold">
                    ê³ í•´ì†ŒëŠ” ìš°ë¦¬ ë§ˆìŒì„ ê¹¨ë—í•˜ê²Œ ì”»ëŠ” ì„¸íƒì†Œì•¼.<br>
                    ì˜ˆìˆ˜ë‹˜ê³¼ í•¨ê»˜ ìš°ë¦¬ ë§ˆìŒì„ ê¹¨ë—í•˜ê²Œ ì”»ì–´ë³¼ê¹Œ? ì~ ì¶œë°œ~^^
                </p>
            </div>

            <button onclick="switchTab('check')" class="mt-8 bg-blue-500 hover:bg-blue-600 text-white text-2xl font-bold py-4 px-12 rounded-full shadow-lg transition-transform transform hover:scale-105 animate-bounce">
                ë§ˆìŒ ì‚´í´ë³´ê¸° ì‹œì‘! ğŸ‘‰
            </button>
        </section>

        <!-- [ì„¹ì…˜ 2] ê±°ìš¸: ì–‘ì‹¬ ì„±ì°° -->
        <section id="check" class="hidden fade-in space-y-10">
            
            <div class="text-center mb-8">
                <div class="inline-block bg-white/80 px-6 py-2 rounded-full shadow-sm mb-4">
                    <span class="text-5xl">ğŸª</span>
                </div>
                <h2 class="text-3xl title-font text-blue-600">ë‚´ ë§ˆìŒ ë¹„ì¶°ë³´ê¸°</h2>
                <p class="text-xl text-gray-500 mt-2">ì²œì²œíˆ ì½ìœ¼ë©° í•´ë‹¹ë˜ëŠ” ê²ƒì„ ëˆŒëŸ¬ë³´ì„¸ìš”.</p>
            </div>

            <!-- ê±°ìš¸ í•˜ë‚˜: í•˜ëŠë‹˜ê³¼ ë¶€ëª¨ë‹˜ -->
            <div class="bg-white/60 p-6 rounded-[2rem] border-4 border-white shadow-sm">
                <div class="text-center mb-6">
                    <span class="inline-block bg-orange-100 text-orange-600 px-5 py-2 rounded-full text-lg font-bold title-font">ì²« ë²ˆì§¸ ê±°ìš¸</span>
                </div>

                <!-- í•˜ëŠë‹˜ ì‚¬ë‘ -->
                <h3 class="text-2xl title-font text-orange-500 mb-4 pl-3 border-l-8 border-orange-300">ğŸ§¡ í•˜ëŠë‹˜ ì‚¬ë‘ (1~3ê³„ëª…)</h3>
                <div class="grid gap-4 mb-10">
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">â›ª</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì£¼ì¼ ë¯¸ì‚¬ì— ë¹ ì§€ê±°ë‚˜, ë¯¸ì‚¬ ì‹œê°„ì— ë”´ìƒê°í•˜ë©° ì¥ë‚œì¹˜ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ™</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì•„ì¹¨, ì €ë… ê¸°ë„ë‚˜ ì‹ì‚¬ ì „ ê¸°ë„ë¥¼ ê·€ì°®ì•„ì„œ ë¹¼ë¨¹ì§€ëŠ” ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ˜¶</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">í•˜ëŠë‹˜ì˜ ì´ë¦„ì„ í•¨ë¶€ë¡œ ë¶€ë¥´ê±°ë‚˜ ì¥ë‚œê°ì²˜ëŸ¼ ëŒ€í•˜ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                </div>

                <!-- ë¶€ëª¨ë‹˜ ì‚¬ë‘ -->
                <h3 class="text-2xl title-font text-pink-500 mb-4 pl-3 border-l-8 border-pink-300">ğŸ§¡ ë¶€ëª¨ë‹˜ ì‚¬ë‘ (4ê³„ëª…)</h3>
                <div class="grid gap-4">
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ˜ </span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ë¶€ëª¨ë‹˜ ë§ì”€ì— "ì‹«ì–´ìš”!" í•˜ê³  ëŒ€ë“¤ê±°ë‚˜ í‰ëª…ìŠ¤ëŸ½ê²Œ ì§œì¦ ë‚´ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ¤¥</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">í˜¼ë‚ ê¹Œ ë´ ë¶€ëª¨ë‹˜ê»˜ ê±°ì§“ë§ì„ í•˜ê±°ë‚˜, ì†ìƒí•˜ê²Œ í•´ ë“œë¦° ì ì€ ì—†ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ’</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ë¶€ëª¨ë‹˜ì´ ë² í’€ì–´ ì£¼ì‹  ì‚¬ë‘ì— ê°ì‚¬í•˜ëŠ” ë§ˆìŒì„ ìŠê³  ì§€ë‚´ì§„ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                </div>
            </div>

            <!-- êµ¬ë¶„ì„  -->
            <div class="flex items-center justify-center gap-4 opacity-50">
                <div class="h-1 bg-blue-200 rounded-full w-24"></div>
                <span class="text-3xl">âœ¨</span>
                <div class="h-1 bg-blue-200 rounded-full w-24"></div>
            </div>

            <!-- ê±°ìš¸ ë‘˜: ì¹œêµ¬ì™€ ë‚˜ -->
            <div class="bg-white/60 p-6 rounded-[2rem] border-4 border-white shadow-sm">
                <div class="text-center mb-6">
                    <span class="inline-block bg-green-100 text-green-600 px-5 py-2 rounded-full text-lg font-bold title-font">ë‘ ë²ˆì§¸ ê±°ìš¸</span>
                </div>

                <!-- ì¹œêµ¬ì™€ ì´ì›ƒ ì‚¬ë‘ -->
                <h3 class="text-2xl title-font text-green-600 mb-4 pl-3 border-l-8 border-green-300">ğŸ§¡ ì¹œêµ¬ì™€ ì´ì›ƒ ì‚¬ë‘</h3>
                <div class="grid gap-4 mb-10">
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ¥Š</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì¹œêµ¬ì™€ ì£¼ë¨¹ ë‹¤ì§ì„ í•˜ê±°ë‚˜, ì‹¬í•œ ë§ë¡œ ë§ˆìŒì— ìƒì²˜ë¥¼ ì£¼ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ˜ˆ</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì¹œêµ¬ë¥¼ ë”°ëŒë¦¬ê±°ë‚˜ ë‚˜ìœ ë³„ëª…ì„ ë¶€ë¥´ë©° ë†€ë¦¬ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ¤«</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì¹œêµ¬ë‚˜ ë‹¤ë¥¸ ì‚¬ëŒì˜ ë¬¼ê±´ì„ í—ˆë½ ì—†ì´ ê°€ì ¸ê°„ ì ì€ ì—†ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ‘€</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì¹œêµ¬ê°€ ê°€ì§„ ê²ƒì´ ë¶€ëŸ¬ì›Œì„œ ì§ˆíˆ¬í•˜ê±°ë‚˜ ìƒ˜ë‚´ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ¤¥</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ë‚˜ë¥¼ ë½ë‚´ë ¤ê³ , í˜¹ì€ ê³¤ë€í•œ ìƒí™©ì„ í”¼í•˜ë ¤ê³  ê±°ì§“ë§ì„ í•˜ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                </div>

                <!-- ì†Œì¤‘í•œ ë‚˜ -->
                <h3 class="text-2xl title-font text-purple-500 mb-4 pl-3 border-l-8 border-purple-300">ğŸ§¡ ì†Œì¤‘í•œ ë‚˜ (ìƒí™œ)</h3>
                <div class="grid gap-4">
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ®</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ìœ íŠœë¸Œë‚˜ ê²Œì„ì„ í•˜ëŠë¼ í•´ì•¼ í•  ì¼ì„ ìê¾¸ ë¯¸ë£¨ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸš«</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì¸í„°ë„·ì—ì„œ ë³´ì§€ ë§ì•„ì•¼ í•  ë‚˜ìœ ì˜ìƒì´ë‚˜ ì‚¬ì§„ì„ ì¼ë¶€ëŸ¬ ì°¾ì•„ë³´ì§„ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ’¬</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ì¹œêµ¬ë“¤ê³¼ ëª¨ì—¬ì„œ ìŒë€í•œ ì´ì•¼ê¸°ë‚˜ ìš•ì„¤ì„ ì¬ë¯¸ ì‚¼ì•„ í•˜ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                    <label class="cursor-pointer group block">
                        <input type="checkbox" class="custom-checkbox hidden">
                        <div class="p-5 bg-white rounded-2xl border-2 border-transparent transition-all flex items-start gap-4">
                            <span class="text-3xl mt-1">ğŸ±</span>
                            <span class="text-xl text-gray-600 leading-snug font-medium">ìŒì‹ì„ ë¶ˆí‰í•˜ë©° ë²„ë¦¬ê±°ë‚˜, ë¬¼ê±´ì„ ì•„ê»´ ì“°ì§€ ì•Šì•˜ë‚˜ìš”?</span>
                        </div>
                    </label>
                </div>
            </div>

            <div class="text-center pt-6">
                 <button onclick="switchTab('wash')" class="bg-pink-400 hover:bg-pink-500 text-white text-2xl title-font py-4 px-12 rounded-full shadow-lg transition-transform transform hover:scale-105">
                    ë‚´ ë§ˆìŒ ì”»ìœ¼ëŸ¬ ê°€ê¸°! ğŸ§¼
                </button>
            </div>
        </section>

        <!-- [ì„¹ì…˜ 3] ì„¸íƒ: ë¹„ë°€ ìª½ì§€ & AI -->
        <section id="wash" class="hidden fade-in space-y-8">
            <div class="text-center">
                <span class="text-6xl">ğŸ§¼</span>
                <h2 class="text-3xl title-font text-pink-500 mt-2">ë¹„ë°€ ìª½ì§€ ì”»ì–´ë‚´ê¸°</h2>
                <p class="text-xl text-gray-500">ì˜ˆìˆ˜ë‹˜ê»˜ ë‚˜ì˜ ì£„ë¥¼ ì†”ì§í•˜ê²Œ ë§ì”€ë“œë¦¬ì! ì•„ë˜ì— ì ì–´ë´.</p>
            </div>

            <!-- ë¹„ë°€ ìª½ì§€ ì…ë ¥ì°½ -->
            <div class="relative">
                <textarea id="secret-note" class="w-full h-64 p-6 text-xl rounded-[2rem] border-4 border-pink-200 focus:border-pink-400 focus:ring-0 resize-none bg-white/90 shadow-inner leading-relaxed" placeholder="ì˜ˆ) ì¹œêµ¬ë¥¼ ë¯¸ì›Œí–ˆì–´ìš”.&#13;&#10;ìš•ì‹¬ì„ ë¶€ë ¸ì–´ìš”..."></textarea>
                
                <!-- ì”»ê¹€ ì• ë‹ˆë©”ì´ì…˜ìš© ì»¤ë²„ -->
                <div id="bubble-cover" class="absolute top-0 left-0 w-full h-full bg-blue-100/90 backdrop-blur-sm rounded-[2rem] flex items-center justify-center opacity-0 pointer-events-none transition-all duration-1000 z-10">
                    <span class="text-5xl text-blue-500 font-bold title-font animate-pulse">ğŸ«§ ê¹¨ë—í•´ì¡Œë‹¤! ğŸ«§</span>
                </div>
            </div>

            <!-- [í•µì‹¬ ë²„íŠ¼] ê³ í•´ì„±ì‚¬ ë³´ëŸ¬ê°€ê¸° -->
            <button onclick="transferAndGo()" class="w-full bg-green-500 hover:bg-green-600 text-white text-2xl title-font py-4 rounded-2xl shadow-lg border-b-4 border-green-700 transition-transform transform active:scale-95 animate-pulse flex items-center justify-center gap-3">
                <span>ğŸƒâ€â™‚ï¸</span> ì ì€ ë‚´ìš© ë“¤ê³  ê³ í•´ì„±ì‚¬ ë³´ëŸ¬ê°€ê¸°
            </button>

            <!-- ë¶€ê°€ ê¸°ëŠ¥ ë²„íŠ¼ë“¤ -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 pt-4">
                <button onclick="washAway()" class="bg-blue-300 hover:bg-blue-400 text-white text-xl title-font py-4 rounded-2xl shadow transition-transform active:scale-95">
                    ğŸš¿ ë¬¼ë¡œ ì”»ì–´ë‚´ê¸° (ì‚­ì œ)
                </button>
                <button onclick="askJesus()" class="bg-yellow-400 hover:bg-yellow-500 text-white text-xl title-font py-4 rounded-2xl shadow transition-transform active:scale-95">
                    ğŸ’Œ ì˜ˆìˆ˜ë‹˜ì˜ ë‹µì¥ ë°›ê¸°
                </button>
            </div>

            <!-- AI ì‘ë‹µ ì˜ì—­ -->
            <div id="ai-response-area" class="hidden mt-8 bg-yellow-50 p-8 rounded-[2rem] border-4 border-yellow-200 relative shadow-md">
                <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white px-6 py-2 rounded-full text-xl font-bold title-font shadow-sm">From. ì˜ˆìˆ˜ë‹˜</div>
                <div id="ai-loading" class="hidden text-center py-6">
                    <span class="text-4xl animate-spin inline-block mb-2">â³</span><br>
                    <span class="text-gray-500">ì˜ˆìˆ˜ë‹˜ì´ í¸ì§€ë¥¼ ì“°ê³  ê³„ì…”ìš”...</span>
                </div>
                <div id="ai-message" class="text-xl leading-relaxed text-gray-700 whitespace-pre-wrap"></div>
            </div>
        </section>

        <!-- [ì„¹ì…˜ 4] ê³ í•´ì„±ì‚¬ ê°€ì´ë“œ: ì‹¤ì „ -->
        <section id="guide" class="hidden fade-in space-y-8">
            <div class="bg-white/80 p-8 rounded-[2rem] shadow-xl border-4 border-blue-100 backdrop-blur-sm">
                <div class="text-center mb-8 border-b-2 border-blue-100 pb-6">
                    <span class="text-5xl">ğŸ›</span>
                    <h2 class="text-3xl title-font text-blue-600 mt-2">ê³ í•´ì†Œì—ì„œ ì´ë ‡ê²Œ ë§í•´ìš”</h2>
                </div>
                
                <div class="space-y-8 text-xl">
                    <!-- ë‹¨ê³„ 1 -->
                    <div class="flex gap-4">
                        <div class="font-bold text-blue-500 w-20 shrink-0 text-right">1. ì…ì¥</div>
                        <div class="bg-blue-50 px-4 py-2 rounded-xl w-full">"ì„±ë¶€ì™€ ì„±ìì™€ ì„±ë ¹ì˜ ì´ë¦„ìœ¼ë¡œ, ì•„ë©˜."</div>
                    </div>
                    <!-- ë‹¨ê³„ 2 -->
                    <div class="flex gap-4">
                        <div class="font-bold text-blue-500 w-20 shrink-0 text-right">2. ì‹œì‘</div>
                        <div class="bg-blue-50 px-4 py-2 rounded-xl w-full">"ì£„ë¥¼ ê³ ë°±í•œ ì§€ <strong>(       )</strong> ë˜ì—ˆìŠµë‹ˆë‹¤."</div>
                    </div>
                    
                    <!-- ë‹¨ê³„ 3 (ìë™ ì±„ì›€ ì˜ì—­) -->
                    <div class="flex flex-col gap-3">
                        <div class="font-bold text-blue-500 pl-2">3. ê³ ë°± (ì´ê±¸ ë³´ê³  ì½ìœ¼ì„¸ìš”) ğŸ‘‡</div>
                        <!-- ì—¬ê¸°ì˜ ë‚´ìš©ì´ [ì„¸íƒ] í˜ì´ì§€ì—ì„œ ë„˜ì–´ì˜¨ ê¸€ë¡œ ë°”ë€ë‹ˆë‹¤ -->
                        <div id="confession-text" class="bg-white border-4 border-blue-200 p-6 rounded-2xl text-gray-700 text-xl shadow-inner min-h-[120px] whitespace-pre-wrap leading-relaxed">
                            <span class='text-gray-400 text-base'>
                                (ì•„ì§ ì ì€ ë‚´ìš©ì´ ì—†ì–´ìš”.<br>
                                [ì„¸íƒ] í˜ì´ì§€ì—ì„œ ì£„ë¥¼ ì ê³  'ê³ í•´ì„±ì‚¬ ë³´ëŸ¬ê°€ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”!)
                            </span>
                        </div>
                    </div>

                    <!-- ë‹¨ê³„ 4 -->
                    <div class="flex gap-4 items-start">
                        <div class="font-bold text-blue-500 w-20 shrink-0 text-right">4. ë§ˆì¹¨</div>
                        <div class="font-bold text-pink-500 leading-snug bg-pink-50 px-4 py-2 rounded-xl w-full">
                            "ì´ ë°–ì—ë„ ì•Œì•„ë‚´ì§€ ëª»í•œ ì£„ì— ëŒ€í•˜ì—¬ë„ í†µíšŒí•˜ì˜¤ë‹ˆ ì‚¬í•˜ì—¬ ì£¼ì†Œì„œ."
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-pink-100 p-8 rounded-[2rem] text-center border-4 border-pink-200 mt-6 shadow-md">
                <h3 class="text-2xl title-font text-pink-600 mb-4">ğŸ’Œ ì‹ ë¶€ë‹˜ì˜ í¸ì§€</h3>
                <p class="text-xl text-gray-700 leading-relaxed">
                    "ê³ í•´ì†ŒëŠ” ìš°ë¦¬ ë§ˆìŒì„ ê¹¨ë—í•˜ê²Œ ì”»ì–´ë‚´ëŠ” ë§ˆìŒ ì„¸íƒì†Œì•¼.<br>
                    ì–¸ì œë‚˜<strong>ìš©ì„œë°›ê³  ì‚¬ë‘ë°›ëŠ” ê³³</strong>ì´ì•¼.<br>
                    ìš©ê¸° ë‚´ì–´ ë“¤ì–´ì˜¤ë ´~ ì–¸ì œë‚˜ í™˜ì˜í•´^^ã…ã…"
                </p>
            </div>
        </section>

    </main>

    <footer class="mt-auto py-8 text-center text-gray-400 text-lg bg-white/40">
        ì²œì£¼êµ ì¸ì²œêµêµ¬ ì„œì°½2ë™ ì„±ë‹¹ ì£¼ì¼í•™êµ<br>
        <span class="text-sm">Made with Prayer & Love</span>
    </footer>

    <script>
        /* ================================================================
           [Netlify í™˜ê²½ ë³€ìˆ˜ ì„¤ì •]
           ë°°í¬ ì‹œ ë¹Œë“œ ì»¤ë§¨ë“œë¡œ ì•„ë˜ ë¬¸ìì—´ì´ ì‹¤ì œ API í‚¤ë¡œ ì¹˜í™˜ë©ë‹ˆë‹¤.
           ================================================================
        */
        const apiKey = "__GEMINI_API_KEY__"; 

        // íƒ­ ì „í™˜ ê¸°ëŠ¥
        function switchTab(tabId) {
            ['home', 'check', 'wash', 'guide'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(tabId).classList.remove('hidden');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.target === tabId) {
                    btn.classList.remove('tab-inactive');
                    btn.classList.add('tab-active');
                } else {
                    btn.classList.add('tab-inactive');
                    btn.classList.remove('tab-active');
                }
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // [ì´ê´€ ê¸°ëŠ¥] ì„¸íƒì†Œ íƒ­ì—ì„œ ì“´ ê¸€ì„ ê³ í•´ ê°€ì´ë“œ íƒ­ìœ¼ë¡œ ë³µì‚¬ & ì´ë™
        function transferAndGo() {
            const noteContent = document.getElementById('secret-note').value;
            const targetDiv = document.getElementById('confession-text');

            // ë‚´ìš©ì´ ë¹„ì–´ìˆìœ¼ë©´ í™•ì¸ì°½ ë„ìš°ê¸°
            if (!noteContent.trim()) {
                if(!confirm("ì•„ì§ ì ì€ ë‚´ìš©ì´ ì—†ì–´ìš”.\në¹ˆì†ìœ¼ë¡œ ê³ í•´ì†Œì— ê°ˆê¹Œìš”?")) {
                    return; // ì·¨ì†Œ
                }
                // ë¹ˆì†ìœ¼ë¡œ ê°ˆ ê²½ìš° ì•ˆë‚´ ë¬¸êµ¬ ìœ ì§€
            } else {
                // ë‚´ìš©ì´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ë³µì‚¬ (innerHTMLì„ ì¨ì„œ ì¤„ë°”ê¿ˆì´ë‚˜ ì´ëª¨í‹°ì½˜ ë“± ìœ ì§€)
                targetDiv.textContent = noteContent;
            }

            // ê³ ë°± íƒ­ìœ¼ë¡œ ì´ë™
            switchTab('guide');
        }

        // [ì„¸íƒ ê¸°ëŠ¥] í™”ë©´ìƒì˜ í…ìŠ¤íŠ¸ ì§€ìš°ê¸° íš¨ê³¼
        function washAway() {
            const note = document.getElementById('secret-note');
            const cover = document.getElementById('bubble-cover');
            
            if (note.value.trim() === "") return;

            if (confirm("ì •ë§ë¡œ ê¹¨ë—í•˜ê²Œ ì§€ì›Œë²„ë¦´ê¹Œìš”?")) {
                cover.style.opacity = '1'; // ê±°í’ˆ ì»¤ë²„ ë“±ì¥
                setTimeout(() => {
                    note.value = ""; // ê¸€ì ì§€ìš°ê¸°
                    setTimeout(() => {
                        cover.style.opacity = '0'; // ê±°í’ˆ ì»¤ë²„ í‡´ì¥
                        alert("ë§ˆìŒì´ ê¹¨ë—í•´ì¡Œì–´ìš”! ì°¸ ì˜í–ˆì–´ìš”. âœ¨");
                    }, 1000);
                }, 1000);
            }
        }

        // [AI ë‹µì¥ ê¸°ëŠ¥] Gemini API í˜¸ì¶œ
        const apiKey = "__GEMINI_API_KEY__";
 
        async function askJesus() {
            const input = document.getElementById('secret-note').value.trim();
            const responseArea = document.getElementById('ai-response-area');
            const loading = document.getElementById('ai-loading');
            const messageDiv = document.getElementById('ai-message');

            if (!input) { 
                alert('ì˜ˆìˆ˜ë‹˜ê»˜ ë“œë¦´ ë§ì”€ì„ ë¨¼ì € ì ì–´ì£¼ì„¸ìš”.'); 
                return; 
            }
            
            // í‚¤ê°€ ì¹˜í™˜ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° (ë¡œì»¬ í…ŒìŠ¤íŠ¸ ë“±)
            if (apiKey === "__GEMINI_API_KEY__") {
                responseArea.classList.remove('hidden');
                messageDiv.innerHTML = "ğŸš« <strong>API í‚¤ ì„¤ì •ì´ í•„ìš”í•´ìš”!</strong><br><br>Netlify ë°°í¬ ì„¤ì •ì—ì„œ 'Environment variables'ì™€ 'Build command'ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.<br>(ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ ì¤‘ì´ë¼ë©´ ì½”ë“œì— ì§ì ‘ í‚¤ë¥¼ ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.)";
                return;
            }

            responseArea.classList.remove('hidden');
            loading.classList.remove('hidden');
            messageDiv.innerHTML = ""; // ê¸°ì¡´ ë©”ì‹œì§€ ì´ˆê¸°í™”

            // ìš”ì²­í•˜ì‹  'ì˜ˆìˆ˜ë‹˜ í˜ë¥´ì†Œë‚˜' í”„ë¡¬í”„íŠ¸
            const systemPrompt = `ë‹¹ì‹ ì€ ì–´ë¦°ì´ë“¤ì„ ë¬´ì²™ ì‚¬ë‘í•˜ëŠ” ì˜ˆìˆ˜ë‹˜ì…ë‹ˆë‹¤. ì‚¬ìš©ì(ì–´ë¦°ì´)ê°€ ìì‹ ì˜ ì£„ë‚˜ ê³ ë¯¼ì„ ì´ì•¼ê¸°í•˜ë©´, 
            1. í˜¼ë‚´ì§€ ì•Šê³  ì•„ì£¼ ë”°ëœ»í•˜ê³  ë‹¤ì •í•˜ê²Œ ìœ„ë¡œí•´ì£¼ì„¸ìš”.
            2. ìš©ê¸°ë¥¼ ë¶ë‹ì•„ì£¼ê³ , ê³ í•´ì„±ì‚¬ë¥¼ í†µí•´ ê¹¨ë—í•´ì§ˆ ìˆ˜ ìˆë‹¤ê³  ë§í•´ì£¼ì„¸ìš”.
            3. ë§íˆ¬ëŠ” ë™í™”ì±…ì²˜ëŸ¼ ë¶€ë“œëŸ½ê²Œ, ì´ëª¨í‹°ì½˜ì„ ë§ì´ ì‚¬ìš©í•´ì£¼ì„¸ìš”.
            4. ë‹µë³€ ê¸¸ì´ëŠ” 3~4ë¬¸ì¥ìœ¼ë¡œ ì§§ê²Œ í•´ì£¼ì„¸ìš”.`;

            try {
                // Gemini 1.5 Flash ëª¨ë¸ ì‚¬ìš©
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, {
                    method: 'POST', 
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        contents: [{ parts: [{ text: input }] }], 
                        systemInstruction: { parts: [{ text: systemPrompt }] } 
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error?.message || 'Server Error');
                }

                const data = await response.json();
                const aiResponseText = data.candidates[0].content.parts[0].text;
                
                // ë§ˆí¬ë‹¤ìš´ ë³€í™˜í•˜ì—¬ ì¶œë ¥
                messageDiv.innerHTML = marked.parse(aiResponseText);

            } catch (error) {
                console.error(error); 
                messageDiv.innerHTML = "ğŸ˜” ì–´ë¼? ì¸í„°ë„· ì—°ê²°ì´ ì•ˆ ì¢‹ì•„ì„œ í¸ì§€ë¥¼ ë³´ë‚´ì§€ ëª»í–ˆì–´.<br>í•˜ì§€ë§Œ ë‚´ ë§ˆìŒì€ ì´ë¯¸ ë„ˆì—ê²Œ ë‹¿ì•˜ë‹¨ë‹¤. ì‚¬ë‘í•´! â¤ï¸";
            } finally {
                loading.classList.add('hidden');
            }
        }
    </script>
</body>
</html>
